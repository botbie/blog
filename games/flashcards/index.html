<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesture-Controlled German Flashcards</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.8/vision_bundle.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="fullscreen-container">
        <video id="videoElement" autoplay playsinline></video>
        <canvas id="canvasElement"></canvas>

        <div class="overlay-ui">
            <div class="top-bar">
                <div class="status-badge" id="statusIndicator">Initializing...</div>
                <div class="gesture-indicator" id="gestureIndicator" style="display: none;"></div>
            </div>

            <button class="help-toggle" onclick="toggleHelp()">â“</button>

            <div class="help-panel" id="helpPanel">
                <h3>Gesture Controls</h3>
                <ul id="helpContent">
                    <li><strong>ğŸ‘ Thumbs Up:</strong> Next/Test mode/Right</li>
                    <li><strong>ğŸ‘ Thumbs Down:</strong> Previous/Learn mode/Left</li>
                    <li><strong>âœ‹ Open Palm:</strong> Flip card / Select</li>
                    <li><strong>â˜ï¸ Point Finger:</strong> Touch item (Test mode)</li>
                    <li><strong>âœŒï¸ Victory:</strong> Toggle this help</li>
                    <li><strong>ğŸ¤Ÿ I Love You:</strong> Back to categories</li>
                </ul>
            </div>

            <!-- Category Selection Screen -->
            <div class="category-screen" id="categoryScreen">
                <h1 class="category-title">ğŸ“š Choose a Category</h1>
                <div class="category-grid" id="categoryGrid"></div>
            </div>

            <!-- Mode Selection Screen -->
            <div class="mode-screen" id="modeScreen" style="display: none;">
                <h1 class="mode-title">Choose Learning Mode</h1>
                <div class="mode-container">
                    <div class="mode-card" id="learnModeCard">
                        <div class="mode-icon">ğŸ“–</div>
                        <div class="mode-name">Learn</div>
                        <div class="mode-description">Study flashcards at your own pace</div>
                        <div class="mode-gesture">ğŸ‘ Thumbs Down</div>
                    </div>
                    <div class="mode-card" id="testModeCard">
                        <div class="mode-icon">âœ…</div>
                        <div class="mode-name">Test</div>
                        <div class="mode-description">Test your knowledge with images</div>
                        <div class="mode-gesture">ğŸ‘ Thumbs Up</div>
                    </div>
                </div>
                <button class="back-button" onclick="backToCategories()">â† Back to Categories</button>
            </div>

            <!-- Learning Screen -->
            <div class="learning-screen" id="learningScreen" style="display: none;">
                <div class="flashcard-overlay">
                    <div class="flashcard-category" id="category">Category Name</div>
                    <img id="image" class="flashcard-image" src="" alt="flashcard image" style="display: none;">
                    <div class="flashcard-text" id="text">Text</div>
                    <div class="progress" id="progress">Card 1 of 10</div>
                    <button class="back-button" onclick="backToCategories()">â† Back to Categories</button>
                </div>
            </div>

            <!-- Test Screen -->
            <div class="test-screen" id="testScreen" style="display: none;">
                <div class="test-layout">
                    <!-- Left Image -->
                    <div class="test-side left-side" id="leftOption">
                        <img id="leftImage" class="test-image" src="" alt="option">
                    </div>

                    <!-- Center Content -->
                    <div class="test-center">
                        <div class="test-category" id="testCategory">Category Name</div>
                        <div class="test-question" id="testQuestion">BerÃ¼hre die Banane</div>
                        <div class="test-progress" id="testProgress">Question 1 of 10</div>

                        <div class="test-feedback" id="testFeedback" style="display: none;">
                            <div class="feedback-content" id="feedbackContent"></div>
                        </div>

                        <div class="test-score" id="testScore">
                            Score: <span id="scoreValue">0</span> / <span id="totalQuestions">0</span>
                        </div>

                        <button class="back-button" onclick="backToCategories()">â† Back</button>
                    </div>

                    <!-- Right Image -->
                    <div class="test-side right-side" id="rightOption">
                        <img id="rightImage" class="test-image" src="" alt="option">
                    </div>
                </div>
            </div>

            <!-- Test Results Screen -->
            <div class="results-screen" id="resultsScreen" style="display: none;">
                <div class="results-container">
                    <div class="results-emoji" id="resultsEmoji">ğŸ‰</div>
                    <div class="results-message" id="resultsMessage">Excellent!</div>
                    <div class="results-score" id="resultsScoreText">10 / 10 (100%)</div>
                    <div class="results-buttons">
                        <button class="retry-button" onclick="retryTest()">âœŠ Try Again</button>
                        <button class="back-button" onclick="backToCategories()">ğŸ¤Ÿ Back to Categories</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="motionedu.js"></script>
</body>

</html>
